{{define "list"}} {{$csrf := .CSRF}}
<div class="w-2/3 mx-auto">
  <div class="bg-white shadow-md rounded my-6">
    <table class="text-left w-full border-collapse">
      <thead>
        <tr>
          <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
            Name
          </th>
          <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
            Description
          </th>
          <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
            Place
          </th>
          <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
            Schedule
          </th>
          <th class="py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light">
            Action
          </th>
        </tr>
      </thead>
      <tbody>
        {{range $key, $event := .Data}}
        <tr id="{{$event.Slug}}" class="hover:bg-grey-lighter">
          <td class="py-4 px-6 border-b border-grey-light">
            {{$event.Name}}
          </td>
          <td class="py-4 px-6 border-b border-grey-light">
            {{$event.Description}}
          </td>
          <td class="py-4 px-6 border-b border-grey-light">
            {{$event.Place}}
          </td>
          <td class="py-4 px-6 border-b border-grey-light">
            {{$event.ScheduledAt}}
          </td>
          <td class="py-4 px-6 border-b border-grey-light">
            <a href="{{$event | eventPathSlug}}" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-1 px-3 border border-blue-500 hover:border-transparent rounded">View</a>
            <a href="{{$event | eventPathEdit}}" class="bg-transparent hover:bg-green-500 text-green-700 font-semibold hover:text-white py-1 px-3 border border-green-500 hover:border-transparent rounded">Edit</a>
            <!-- Delete -->
            <form class="is-jsonly inline" accept-charset="UTF-8" action="{{$event | eventPathSlug}}" method="POST">
              {{$csrf.csrfField}}
              <input name="_method" type="hidden" value="DELETE">
              <input class="bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-1 px-3 border border-red-500 hover:border-transparent rounded" type="submit" value="Delete"  onclick="return confirm('Are you sure?')">
            </form>
            <!-- Delete -->
            <!-- Init delete -->
            <noscript>
              <form class="inline" accept-charset="UTF-8" action="{{$event | eventPathInitDelete}}" method="POST">
                {{$csrf.csrfField}}
                <input class="text-sm bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-1 px-3 border border-red-500 hover:border-transparent rounded inline" type="submit" value="Delete">
              </form>
            </noscript>
            <!-- Init delete -->
          </td>
        </tr>
        {{end}}
      </tbody>
    </table>
  </div>
</div>
{{end}}
